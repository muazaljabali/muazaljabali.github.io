document.addEventListener("DOMContentLoaded",function(){function e(e){e?(i.classList.add("dark"),n.style.transform="translateX(20px)",s.className="fa fa-moon text-xs text-dark-bg-primary"):(i.classList.remove("dark"),n.style.transform="translateX(0)",s.className="fa fa-sun text-xs text-white")}const t=document.getElementById("themeToggle"),n=document.getElementById("themeSwitchKnob"),s=document.getElementById("knobIcon"),i=document.documentElement;let o="light"!==localStorage.getItem("theme");e(o),t.addEventListener("click",function(){e(o=!o),localStorage.setItem("theme",o?"dark":"light"),this.blur()})}),document.addEventListener("DOMContentLoaded",function(){function e(){const e=document.getElementById(l),t=document.getElementById(c);if(e&&t){const n="true"===e.getAttribute("aria-expanded");t.classList.toggle("hidden"),e.setAttribute("aria-expanded",!n+""),e.blur()}}function t(){const e=document.getElementById(l),t=document.getElementById(c);e&&t&&(t.classList.add("hidden"),e.setAttribute("aria-expanded","false"))}function n(e){if(!e)return!0;const t=e.value.trim(),n=e.name;let i=!0,o="";switch(s(e),n){case"name":t?2>t.length&&(o="Name must be at least 2 characters long",i=!1):(o="Name is required",i=!1);break;case"email":t?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)||(o="Please enter a valid email address",i=!1):(o="Email is required",i=!1);break;case"message":t?10>t.length&&(o="Message must be at least 10 characters long",i=!1):(o="Message is required",i=!1)}return i||function(e,t){if(e){e.classList.add("border-red-500","focus:ring-red-500"),e.classList.remove("border-kemet-charcoal","focus:ring-kemet-gold","dark:border-dark-border","dark:focus:ring-dark-accent");const n=document.createElement("div");n.className="text-red-600 text-sm mt-1 font-medium",n.textContent=t,n.id=`error-${e.id}`;const s=e.parentElement;s&&!s.querySelector(`#error-${e.id}`)&&s.appendChild(n)}}(e,o),i}function s(e){if(e){e.classList.remove("border-red-500","focus:ring-red-500"),e.classList.add("border-kemet-charcoal","focus:ring-kemet-gold","dark:border-dark-border","dark:focus:ring-dark-accent");const t=document.getElementById(`error-${e.id}`);t&&t.remove()}}function i(e){const t=document.querySelector(e);if(!t)return;const n=function(){const e=document.getElementById("header");return e?Math.ceil(e.getBoundingClientRect().height):0}(),s=t.getBoundingClientRect(),i=window.scrollY+s.top-n,o=Math.max(0,document.documentElement.scrollHeight-window.innerHeight),a=Math.max(0,Math.min(i,o));window.scrollTo({top:a,behavior:"smooth"}),t.setAttribute("tabindex","-1"),t.focus({preventScroll:!0})}function o(){const e=document.querySelectorAll(".project-card");let t=0;e.forEach(e=>{e.style.height="auto",t=Math.max(t,e.offsetHeight)}),e.forEach(e=>{e.style.height=t+"px"})}function a(){const e=document.querySelectorAll(".skills-grid > div");let t=0;e.forEach(e=>{e.style.height="auto",t=Math.max(t,e.offsetHeight)}),e.forEach(e=>{e.style.height=t+"px"}),function(){const e=document.querySelector("#skills"),t=document.getElementById("skills-divider");if(e&&t){const n=e.querySelector(".bg-white .skills-grid");if(n){const e=1.35*n.offsetHeight;t.style.height=e+"px"}}}()}const l="mobileMenuButton",c="mobile-menu",r=.15;(function(){const e=document.getElementById("year");e&&(e.textContent=(new Date).getFullYear())})(),function(){const n=document.getElementById(l),s=document.getElementById(c);if(n&&s){n.addEventListener("click",e),s.querySelectorAll("a").forEach(e=>{e.addEventListener("click",function(){t(),this.blur()})}),document.addEventListener("click",e=>{s.contains(e.target)||n.contains(e.target)||s.classList.contains("hidden")||t()})}}(),function(){const e=document.querySelectorAll(".fade-in-section");if(!("IntersectionObserver"in window))return void e.forEach(e=>e.classList.add("is-visible"));const t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&e.target.classList.add("is-visible")})},{threshold:r});e.forEach(e=>t.observe(e))}(),function(){const e=document.getElementById("contact-form");if(!e)return;const t=document.getElementById("name"),i=document.getElementById("email"),o=document.getElementById("message");[t,i,o].forEach(e=>{e&&(e.addEventListener("blur",()=>n(e)),e.addEventListener("input",()=>s(e)))}),e.addEventListener("submit",function(a){a.preventDefault();const l=n(t),c=n(i),r=n(o);if(!l||!c||!r)return void showFormStatus("Please correct the errors above and try again.","text-center mt-4 text-red-600 font-medium");showFormStatus("Sending your message...","text-center mt-4 text-kemet-blue font-medium");const d=new FormData(e);fetch(e.action,{method:"POST",body:d,headers:{Accept:"application/json"}}).then(n=>{n.ok?(showFormStatus("Thank you for your message! I'll get back to you soon.","text-center mt-4 text-kemet-green font-medium"),e.reset(),[t,i,o].forEach(e=>{s(e)})):showFormStatus("Sorry, there was a problem sending your message. Please try again later.","text-center mt-4 text-red-600 font-medium")}).catch(()=>{showFormStatus("Sorry, there was a problem sending your message. Please try again later.","text-center mt-4 text-red-600 font-medium")})})}(),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){const t=this.getAttribute("href");"#"!==t&&document.querySelector(t)&&(e.preventDefault(),i(t))})}),function(){const e=document.getElementById("resume-print");e&&e.addEventListener("click",function(){window.print(),this.blur()})}(),document.querySelectorAll(".nav-link").forEach(e=>{e.classList.add("text-sm","font-semibold","tracking-wider","uppercase","hover:text-kemet-gold","focus-visible:outline-none","focus-visible:ring-2","focus-visible:ring-kemet-gold","rounded-md","transition-colors","duration-300")}),document.querySelectorAll(".mobile-nav-link").forEach(e=>{e.classList.add("block","py-3","px-6","text-sm","hover:bg-kemet-gold/20","focus:bg-kemet-gold/20","focus-visible:outline-none","transition-colors","duration-200")}),function(){const e=document.querySelectorAll(".field-button");if(!e||!e.length)return;let t=null;e.forEach(n=>{"toggle-additional-fields"===n.id||n.addEventListener("click",function(){if("data-science"===this.dataset.field)return void this.blur();e.forEach(e=>{e.setAttribute("aria-pressed","false"),e.classList.remove("active")}),this.setAttribute("aria-pressed","true"),this.classList.add("active");const n=this.dataset.field;!function(){const e=document.querySelector("#skills");if(e){const t=function(){const e=document.getElementById("header");return e?Math.ceil(e.getBoundingClientRect().height):0}(),n=e.getBoundingClientRect(),s=window.scrollY+n.top-t,i=Math.max(0,document.documentElement.scrollHeight-window.innerHeight),o=Math.max(0,Math.min(s,i));window.scrollTo({top:o,behavior:"smooth"}),e.setAttribute("tabindex","-1"),e.focus({preventScroll:!0})}}();const s=document.querySelectorAll("[data-fields]");s.forEach(e=>{(e.dataset.fields||"").split(" ").map(e=>e.trim()).includes(n)?(e.classList.add("skill-highlight"),e.classList.remove("skill-dimmed")):(e.classList.remove("skill-highlight"),e.classList.add("skill-dimmed"))}),t&&clearTimeout(t),t=setTimeout(()=>{e.forEach(e=>{e.setAttribute("aria-pressed","false"),e.classList.remove("active")}),s.forEach(e=>{e.classList.remove("skill-highlight","skill-dimmed")})},1e3),this.blur()})})}(),function(){const e=document.getElementById("toggle-additional-fields"),t=document.getElementById("additional-fields"),n=document.getElementById("home");if(!e||!t||!n)return;let s=!1;e.addEventListener("click",function(i){i.preventDefault(),(s=!s)?(t.classList.remove("hidden"),t.offsetWidth,t.classList.remove("opacity-0"),t.classList.add("opacity-100"),n.classList.add("home-expanded"),n.classList.remove("home-collapsed"),e.setAttribute("aria-expanded","true"),e.setAttribute("aria-label","Hide additional fields"),e.classList.add("revealed")):(t.classList.remove("opacity-100"),t.classList.add("opacity-0"),n.classList.add("home-collapsed"),n.classList.remove("home-expanded"),e.setAttribute("aria-expanded","false"),e.setAttribute("aria-label","Discover more"),e.classList.remove("revealed"),setTimeout(function(){s||t.classList.add("hidden")},500)),this.blur()})}();const d=document.getElementById("email-icon"),m=document.getElementById("email-tooltip");let u=null;d&&m&&d.addEventListener("click",function(e){e.preventDefault(),m.style.visibility="visible",m.style.opacity="1",u&&clearTimeout(u),u=setTimeout(()=>{m.style.visibility="",m.style.opacity=""},2e3),this.blur()}),window.addEventListener("load",function(){o(),a()}),window.addEventListener("resize",function(){o(),a()}),document.addEventListener("click",function(e){const t=e.target;if(t.classList.contains("social-link")||t.classList.contains("nav-link")||t.classList.contains("mobile-nav-link")||t.closest(".social-link")||t.closest(".nav-link")||t.closest(".mobile-nav-link")){const e=t.classList.contains("social-link")||t.classList.contains("nav-link")||t.classList.contains("mobile-nav-link")?t:t.closest(".social-link")||t.closest(".nav-link")||t.closest(".mobile-nav-link");e&&setTimeout(()=>{e.blur()},0)}})});