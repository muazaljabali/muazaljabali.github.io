document.addEventListener("DOMContentLoaded",function(){function a(a){a?(e.classList.add("dark"),c.style.transform="translateX(20px)",d.className="fa fa-moon text-xs text-dark-bg-primary"):(e.classList.remove("dark"),c.style.transform="translateX(0)",d.className="fa fa-sun text-xs text-white")}const b=document.getElementById("themeToggle"),c=document.getElementById("themeSwitchKnob"),d=document.getElementById("knobIcon"),e=document.documentElement;let f="light"!==localStorage.getItem("theme");a(f),b.addEventListener("click",function(){f=!f,a(f),localStorage.setItem("theme",f?"dark":"light"),this.blur()})}),document.addEventListener("DOMContentLoaded",function(){function a(){const a=document.getElementById("header");return a?Math.ceil(a.getBoundingClientRect().height):0}function b(){const a=document.getElementById(m),b=document.getElementById(n);if(a&&b){const c="true"===a.getAttribute("aria-expanded");b.classList.toggle("hidden"),a.setAttribute("aria-expanded",!c+""),a.blur()}}function c(){const a=document.getElementById(m),b=document.getElementById(n);a&&b&&(b.classList.add("hidden"),a.setAttribute("aria-expanded","false"))}function d(){const a=document.querySelectorAll(".fade-in-section");if(!("IntersectionObserver"in window))return void a.forEach(a=>a.classList.add("is-visible"));const b=new IntersectionObserver(a=>{a.forEach(a=>{a.isIntersecting&&a.target.classList.add("is-visible")})},{threshold:o});a.forEach(a=>b.observe(a))}function f(a){if(!a)return!0;const b=a.value.trim(),c=a.name;let d=!0,e="";switch(h(a),c){case"name":b?2>b.length&&(e="Name must be at least 2 characters long",d=!1):(e="Name is required",d=!1);break;case"email":if(!b)e="Email is required",d=!1;else{/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(b)||(e="Please enter a valid email address",d=!1)}break;case"message":b?10>b.length&&(e="Message must be at least 10 characters long",d=!1):(e="Message is required",d=!1);}return d||g(a,e),d}function g(a,b){if(a){a.classList.add("border-red-500","focus:ring-red-500"),a.classList.remove("border-kemet-charcoal","focus:ring-kemet-gold","dark:border-dark-border","dark:focus:ring-dark-accent");const c=document.createElement("div");c.className="text-red-600 text-sm mt-1 font-medium",c.textContent=b,c.id=`error-${a.id}`;const d=a.parentElement;d&&!d.querySelector(`#error-${a.id}`)&&d.appendChild(c)}}function h(a){if(a){a.classList.remove("border-red-500","focus:ring-red-500"),a.classList.add("border-kemet-charcoal","focus:ring-kemet-gold","dark:border-dark-border","dark:focus:ring-dark-accent");const b=document.getElementById(`error-${a.id}`);b&&b.remove()}}function i(b){const c=document.querySelector(b);if(!c)return;const d=a(),e=c.getBoundingClientRect(),f=window.scrollY+e.top-d,g=Math.max(0,document.documentElement.scrollHeight-window.innerHeight),h=Math.max(0,Math.min(f,g));window.scrollTo({top:h,behavior:"smooth"}),c.setAttribute("tabindex","-1"),c.focus({preventScroll:!0})}function j(){const a=document.querySelectorAll(".project-card");let b=0;a.forEach(a=>{a.style.height="auto",b=Math.max(b,a.offsetHeight)}),a.forEach(a=>{a.style.height=b+"px"})}function k(){const a=document.querySelector("#skills"),b=document.getElementById("skills-divider");if(a&&b){const c=a.querySelector(".bg-white .skills-grid");if(c){const a=1.35*c.offsetHeight;b.style.height=a+"px"}}}function l(){const a=document.querySelectorAll(".skills-grid > div");let b=0;a.forEach(a=>{a.style.height="auto",b=Math.max(b,a.offsetHeight)}),a.forEach(a=>{a.style.height=b+"px"}),k()}const m="mobileMenuButton",n="mobile-menu",o=.15;(function(){const a=document.getElementById("year");a&&(a.textContent=new Date().getFullYear())})(),function(){const a=document.getElementById(m),d=document.getElementById(n);if(a&&d){a.addEventListener("click",b);const e=d.querySelectorAll("a");e.forEach(a=>{a.addEventListener("click",function(){c(),this.blur()})}),document.addEventListener("click",b=>{d.contains(b.target)||a.contains(b.target)||d.classList.contains("hidden")||c()})}}(),d(),function(){const a=document.getElementById("contact-form");if(!a)return;const b=document.getElementById("name"),c=document.getElementById("email"),d=document.getElementById("message");[b,c,d].forEach(a=>{a&&(a.addEventListener("blur",()=>f(a)),a.addEventListener("input",()=>h(a)))}),a.addEventListener("submit",function(g){g.preventDefault();const e=f(b),i=f(c),j=f(d);if(!e||!i||!j)return void showFormStatus("Please correct the errors above and try again.","text-center mt-4 text-red-600 font-medium");showFormStatus("Sending your message...","text-center mt-4 text-kemet-blue font-medium");const k=new FormData(a);fetch(a.action,{method:"POST",body:k,headers:{Accept:"application/json"}}).then(e=>{e.ok?(showFormStatus("Thank you for your message! I'll get back to you soon.","text-center mt-4 text-kemet-green font-medium"),a.reset(),[b,c,d].forEach(a=>{h(a)})):showFormStatus("Sorry, there was a problem sending your message. Please try again later.","text-center mt-4 text-red-600 font-medium")}).catch(()=>{showFormStatus("Sorry, there was a problem sending your message. Please try again later.","text-center mt-4 text-red-600 font-medium")})})}(),function(){document.querySelectorAll("a[href^=\"#\"]").forEach(a=>{a.addEventListener("click",function(a){const b=this.getAttribute("href");"#"!==b&&document.querySelector(b)&&(a.preventDefault(),i(b))})})}(),function(){const a=document.getElementById("resume-print");a&&a.addEventListener("click",function(){window.print(),this.blur()})}(),function(){document.querySelectorAll(".nav-link").forEach(a=>{a.classList.add("text-sm","font-semibold","tracking-wider","uppercase","hover:text-kemet-gold","focus-visible:outline-none","focus-visible:ring-2","focus-visible:ring-kemet-gold","rounded-md","transition-colors","duration-300")}),document.querySelectorAll(".mobile-nav-link").forEach(a=>{a.classList.add("block","py-3","px-6","text-sm","hover:bg-kemet-gold/20","focus:bg-kemet-gold/20","focus-visible:outline-none","transition-colors","duration-200")})}(),function(){const a=document.querySelectorAll(".field-button");if(!a||!a.length)return;let b=null;a.forEach(c=>{"toggle-additional-fields"===c.id||c.addEventListener("click",function(){a.forEach(a=>{a.setAttribute("aria-pressed","false"),a.classList.remove("active")}),this.setAttribute("aria-pressed","true"),this.classList.add("active");const c=this.dataset.field;i("#skills");const d=document.querySelectorAll("[data-fields]");d.forEach(a=>{const b=(a.dataset.fields||"").split(" ").map(a=>a.trim());b.includes(c)?(a.classList.add("skill-highlight"),a.classList.remove("skill-dimmed")):(a.classList.remove("skill-highlight"),a.classList.add("skill-dimmed"))}),b&&clearTimeout(b),b=setTimeout(()=>{a.forEach(a=>{a.setAttribute("aria-pressed","false"),a.classList.remove("active")}),d.forEach(a=>{a.classList.remove("skill-highlight","skill-dimmed")})},1e3),this.blur()})})}(),function(){const a=document.getElementById("toggle-additional-fields"),b=document.getElementById("additional-fields"),c=document.getElementById("home");if(!a||!b||!c)return;let d=!1;const f=document.getElementById("arrow-icon");a.addEventListener("click",function(g){g.preventDefault(),d=!d,d?(b.classList.remove("hidden"),void b.offsetWidth,b.classList.remove("opacity-0"),b.classList.add("opacity-100"),c.classList.add("home-expanded"),c.classList.remove("home-collapsed"),a.setAttribute("aria-expanded","true"),a.setAttribute("aria-label","Hide additional fields"),a.classList.add("revealed"),f&&(f.classList.remove("fa-chevron-down"),f.classList.add("fa-chevron-up"))):(b.classList.remove("opacity-100"),b.classList.add("opacity-0"),c.classList.add("home-collapsed"),c.classList.remove("home-expanded"),a.setAttribute("aria-expanded","false"),a.setAttribute("aria-label","Discover more"),a.classList.remove("revealed"),f&&(f.classList.remove("fa-chevron-up"),f.classList.add("fa-chevron-down")),setTimeout(function(){d||b.classList.add("hidden")},500)),this.blur()})}();const p=document.getElementById("email-icon"),q=document.getElementById("email-tooltip");let r=null;p&&q&&p.addEventListener("click",function(a){a.preventDefault(),q.style.visibility="visible",q.style.opacity="1",r&&clearTimeout(r),r=setTimeout(()=>{q.style.visibility="",q.style.opacity=""},2e3),this.blur()}),window.addEventListener("load",function(){j(),l()}),window.addEventListener("resize",function(){j(),l()}),document.addEventListener("click",function(a){const b=a.target,c=b.classList.contains("social-link")||b.classList.contains("nav-link")||b.classList.contains("mobile-nav-link")||b.closest(".social-link")||b.closest(".nav-link")||b.closest(".mobile-nav-link");if(c){const a=b.classList.contains("social-link")||b.classList.contains("nav-link")||b.classList.contains("mobile-nav-link")?b:b.closest(".social-link")||b.closest(".nav-link")||b.closest(".mobile-nav-link");a&&setTimeout(()=>{a.blur()},0)}})});